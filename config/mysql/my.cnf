[mysqld]
# --------------------------- ë„¤íŠ¸ì›Œí¬ -------------------------------
port = 3306                # â–¶ï¸ ìˆ˜ì‹  í¬íŠ¸ / ğŸ’  3306
bind-address = 0.0.0.0     # â–¶ï¸ ì „ ì¸í„°í˜ì´ìŠ¤ ë°”ì¸ë“œ / ğŸ’  127.0.0.1
socket = /var/lib/mysql/mysql.sock  # â–¶ï¸ ìœ ë‹‰ìŠ¤ ì†Œì¼“ ê²½ë¡œ (ê¸°ì¡´ ì„¤ì • ìœ ì§€)
datadir = /var/lib/mysql    # â–¶ï¸ ë°ì´í„° íŒŒì¼ ìœ„ì¹˜ / ğŸ’  /var/lib/mysql
pid-file=/var/run/mysqld/mysqld.pid

# --------------------------- ê¸°ë³¸ ì„¤ì • -------------------------------
# basedir = /usr/local/perconadb  # â–¶ï¸ MySQL ì„¤ì¹˜ ê²½ë¡œ / ğŸ’  ì»´íŒŒì¼ ì‹œ ê¸°ë³¸ê°’ [1]
default-storage-engine = InnoDB  # â–¶ï¸ ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ / ğŸ’  InnoDB [2]
# skip-external-locking      # â–¶ï¸ ì™¸ë¶€ ì ê¸ˆ ë¹„í™œì„±í™” (ì„±ëŠ¥ í–¥ìƒ) / ğŸ’  OFF [2]
# explicit_defaults_for_timestamp = 1  # â–¶ï¸ TIMESTAMP ê¸°ë³¸ê°’ ëª…ì‹œì  ì„¤ì • / ğŸ’  OFF [2]
# lc-messages-dir = '/usr/local/perconadb/share'  # â–¶ï¸ ì˜¤ë¥˜ ë©”ì‹œì§€ ë””ë ‰í† ë¦¬ / ğŸ’  ì„¤ì¹˜ ê²½ë¡œ ê¸°ì¤€ [2]

# --------------------------- ì¸ì¦/ë³´ì•ˆ -------------------------------
# default_authentication_plugin = mysql_native_password  # â–¶ï¸ ë¡œê·¸ì¸ í”ŒëŸ¬ê·¸ì¸ / ğŸ’  mysql_native_password /caching_sha2_password
# default-authentication-plugin = mysql_native_password

# skip-name-resolve          # â–¶ï¸ DNS ì—­ì¡°íšŒ ë¹„í™œì„±í™” / ğŸ’  OFF
# local_infile = 0           # â–¶ï¸ LOCAL DATA INFILE ë¹„í™œì„±í™” (ë³´ì•ˆ) / ğŸ’  1 [2]
log_bin_trust_function_creators = 1  # â–¶ï¸ Stored Function ìƒì„± ì‹œ BINLOG ê¶Œí•œ íšŒí”¼
									 # ê¸°ë³¸ê°’ OFF, ê¶Œí•œ ì—†ëŠ” í•¨ìˆ˜ ì‘ì„±ì ì‹œíˆ¬ì ì„¤ì •

# --------------------------- ë©”ëª¨ë¦¬ -------------------------------
innodb_buffer_pool_size = 17G  # â–¶ï¸ Hot ë°ì´í„° ìºì‹œ(â‰ˆRAM 70%) / ğŸ’  128M
innodb_buffer_pool_instances = 4  # â–¶ï¸ ë²„í¼í’€ íŒŒí‹°ì…”ë‹(ì½”ì–´ìˆ˜ ê¸°ì¤€) / ğŸ’  1
innodb_numa_interleave = OFF
# innodb_max_dirty_pages_pct = 90  # â–¶ï¸ Dirty í˜ì´ì§€ ìµœëŒ€ ë¹„ìœ¨ / ğŸ’  90 [2]

# --------------------------- ë¡œê·¸ -------------------------------
innodb_log_file_size = 1G  # â–¶ï¸ REDO ë¡œê·¸ íŒŒì¼ í¬ê¸° (MySQL 8.4 ë¯¸ì‚¬ìš© ê¶Œì¥*) / ğŸ’  128M
# innodb_redo_log_capacity = 3G  # â–¶ï¸ REDO ë¡œê·¸ ì´ ìš©ëŸ‰ (8.0.30+ ëŒ€ì²´ ì„¤ì •) / ğŸ’  128M [1][4]
innodb_log_buffer_size = 64M  # â–¶ï¸ íŠ¸ëœì­ì…˜ ë¡œê·¸ ë²„í¼ / ğŸ’  16M
innodb_flush_log_at_trx_commit = 1  # â–¶ï¸ 1=ì™„ì „ ë‚´êµ¬ì„± / ğŸ’  1
innodb_flush_method = O_DIRECT  # â–¶ï¸ OS ìºì‹œ ìš°íšŒ / ğŸ’  fsync

# --------------------------- I/O -------------------------------
innodb_io_capacity = 1000  # â–¶ï¸ SSD ê¸°ëŒ€ IOPS / ğŸ’  200
innodb_io_capacity_max = 2000  # â–¶ï¸ í”¼í¬ IOPS ìƒí•œ / ğŸ’  2000
innodb_read_io_threads = 4  # â–¶ï¸ ì½ê¸° ìŠ¤ë ˆë“œ / ğŸ’  4
innodb_write_io_threads = 4  # â–¶ï¸ ì“°ê¸° ìŠ¤ë ˆë“œ / ğŸ’  4
innodb_file_per_table = 1    # â–¶ï¸ ê°œë³„ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ / ğŸ’  1
# innodb_doublewrite = 1       # â–¶ï¸ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë°ì´í„° íŒŒì¼ êµ¬ì„±Â·ë™ì‘ ì •ì±… ì§€ì •
							 # ì¼ë°˜ì ìœ¼ë¡œ ëœ ì‚¬ìš©í•˜ëŠ” ë‚´ë¶€ ì˜µì…˜ë“¤, ê³ ê¸‰ íŠœë‹ ëª©ì 

# --------------------------- ì—°ê²°/íƒ€ì„ì•„ì›ƒ -------------------------------
max_connections = 200       # â–¶ï¸ ë™ì‹œ ì ‘ì† í•œë„ / ğŸ’  151
# max_connect_errors = 9999999  # â–¶ï¸ ì ‘ì† ì‹¤íŒ¨ íšŸìˆ˜ ì œí•œ(ë””ìŠ¤í¬ ìš© host cache ë¬´í•œ ì„¤ì •)
								# ê¸°ë³¸ê°’ 10, ë„¤íŠ¸ì›Œí¬ ë¶ˆì•ˆì • í™˜ê²½ ì‹œ ë†’ê²Œ ì„¤ì •
# wait_timeout = 3600         # â–¶ï¸ ë¹„í™œì„± ì—°ê²° íƒ€ì„ì•„ì›ƒ(ì´ˆ) / ğŸ’  28800 [2]
# interactive-timeout = 3600  # â–¶ï¸ ì¸í„°ë™í‹°ë¸Œ ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ(ì´ˆ) / ğŸ’  28800 [2]
thread_cache_size = 20      # â–¶ï¸ ì¬ì‚¬ìš© ìŠ¤ë ˆë“œ ìºì‹œ / ğŸ’  10

# --------------------------- ì„ì‹œÂ·ì •ë ¬ ë²„í¼ -------------------------------
tmp_table_size = 256M       # â–¶ï¸ ë©”ëª¨ë¦¬ ì„ì‹œí…Œì´ë¸” í•œê³„ / ğŸ’  16M
max_heap_table_size = 256M  # â–¶ï¸ HEAP ì„ì‹œí…Œì´ë¸” í•œê³„ / ğŸ’  16M
join_buffer_size = 2M       # â–¶ï¸ ì¡°ì¸ ë²„í¼ / ğŸ’  256K
sort_buffer_size = 2M       # â–¶ï¸ ì •ë ¬ ë²„í¼ / ğŸ’  256K
read_buffer_size = 1M       # â–¶ï¸ ìˆœì°¨ ì½ê¸° ë²„í¼ / ğŸ’  128K
read_rnd_buffer_size = 1M   # â–¶ï¸ ëœë¤ ì½ê¸° ë²„í¼ / ğŸ’  256K
table_open_cache = 2000     # â–¶ï¸ ì—´ë¦° í…Œì´ë¸” ìºì‹œ / ğŸ’  2000
table_definition_cache = 1400  # â–¶ï¸ í…Œì´ë¸” ì •ì˜ ìºì‹œ / ğŸ’  1400

# --------------------------- íŠ¸ëœì­ì…˜ -------------------------------
transaction-isolation = REPEATABLE-READ  # â–¶ï¸ ê¸°ë³¸ ê²©ë¦¬ ìˆ˜ì¤€ / ğŸ’  REPEATABLE-READ [2]
innodb_lock_wait_timeout = 50  # â–¶ï¸ ì ê¸ˆ ëŒ€ê¸° ì‹œê°„(ì´ˆ) / ğŸ’  50 [2]

# --------------------------- ë¡œê¹…/ëª¨ë‹ˆí„°ë§ -------------------------------
log_error = /var/log/mysql/error.log  # â–¶ï¸ ì—ëŸ¬ ë¡œê·¸ ê²½ë¡œ
log_error_verbosity = 2
slow_query_log = ON         # â–¶ï¸ ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê¹… / ğŸ’  OFF
slow_query_log_file = /var/log/mysql/slow_query.log
long_query_time = 0.5       # â–¶ï¸ ìŠ¬ë¡œìš° ì¿¼ë¦¬ ê¸°ì¤€(ì´ˆ) / ğŸ’  10
innodb_print_all_deadlocks = 1  # â–¶ï¸ ë°ë“œë½ ë¡œê¹… í™œì„±í™” / ğŸ’  OFF [2]

# --------------------------- ë¬¸ìì…‹ -------------------------------
character_set_server = utf8mb4  # â–¶ï¸ ì„œë²„ ë¬¸ìì…‹ / ğŸ’  utf8mb4
collation_server = utf8mb4_unicode_ci  # â–¶ï¸ ì„œë²„ ì½œë ˆì´ì…˜ / ğŸ’  utf8mb4_0900_ai_ci
init_connect='SET collation_connection = utf8mb4_general_ci; SET NAMES utf8mb4'

# --------------------------- ê³ ê¸‰ -------------------------------
innodb_thread_concurrency = 0  # â–¶ï¸ InnoDB ìŠ¤ë ˆë“œ ë™ì‹œì„± (0=ìë™) / ğŸ’  0 [2]
innodb_stats_on_metadata = 0   # â–¶ï¸ ë©”íƒ€ë°ì´í„° ì ‘ê·¼ ì‹œ í†µê³„ ê°±ì‹  ë¹„í™œì„±í™” / ğŸ’  OFF [2]
server-id = 1                # â–¶ï¸ ë³µì œìš© ì„œë²„ ID (ê¸°ë³¸ê°’ 1) / ğŸ’  0 [2]
